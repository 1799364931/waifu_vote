# 萌战投票系统



利用bangumi的接口，
在点击 add 后会出现一个搜索框，搜索框中可以搜索角色然后选中角色。
再次点击重新出现搜索框，重新选择后原角色被覆盖。

角色的名字，url会作为option传递给后端
## 1 需求分析



每一轮都有n个组进行分组投票，每一个组
### 1.1 用户验证
根据QQ号进行登录，无需密码，普通用户无创建投票权限，用jwt + redis进行权限控制

### 1.2 投票系统

#### 1.2.1 分组投票
实现n进m的分组投票

#### 1.2.2 对阵投票
实现n进m的对阵投票，新一轮投票由对阵角色决定？


## 2 数据库表设计

### 2.1 用户
+ 用户QQ号
+ 用户名

### 2.2 分组投票
+ id
+ 开始时间
+ 结束时间
+ 标题
+ 描述
+ 最多可投票数
+ 所属对阵id (非对阵投票为null)
+ 结束后进入下轮选项数

### 2.3 对阵
+ id
+ 开始时间
+ 结束时间
+ 所含分组id
+ 描述

### 2.4 投票选项
+ id
+ 所属投票
+ 描述
+ url
+ 已投票数
+ 限制投票数(?可选)

### 2.5 投票记录
+ id
+ 用户id
+ 所投选项
+ 投票时间



## 3 接口设计
### 3.1 用户
+ 用户登录
